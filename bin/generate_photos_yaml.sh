#!/bin/bash

curl 'https://www.publicalbum.org/api/v2/webapp/embed-player/jsonrpc' -H 'origin: https://www.publicalbum.org' -H 'dnt: 1' -H 'accept-encoding: gzip, deflate, br' -H 'accept-language: en-GB,en-US;q=0.9,en;q=0.8' -H 'user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.27 Safari/537.36' -H 'content-type: text/plain;charset=UTF-8' -H 'accept: application/json' -H 'referer: https://www.publicalbum.org/blog/embed-photos-slideshow-carousel-widget' -H 'authority: www.publicalbum.org' --data-binary '{"method":"getGooglePhotosAlbum","params":{"sharedLink":"https://photos.app.goo.gl/JttRFyHLhsjv7fhJ7","imageWidth":1920,"imageHeight":1080,"includeThumbnails":false,"attachMetadata":false},"id":2}' --compressed | jq '.result.mediaItems' | ruby -ryaml -rjson -e 'puts YAML.dump(JSON.parse(STDIN.read))'  > _data/photos.yaml
